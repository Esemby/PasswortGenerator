<!DOCTYPE html>
<html>
	<head>
		<title>index passwordgenerator</title>
		<link rel="stylesheet" href="passwordgenerator css.css" />
		<script>
			function passwordQuick() {
				fetch("http://localhost:3333/api/V0.1")
	.then(function(res){return res.json();})
	.then(function(data){ 
			document.getElementById("textareaPassw").innerHTML = data;
		})
			}
			
			
			function passwordRequest() {
				var type;
				if (document.getElementById("NoType").checked) type = "NoType";
				if (document.getElementById("HEXDEC").checked) type = "HEXDEC";
				if (document.getElementById("AlphaNum").checked) type = "AlphaNum";
				var lenght = document.querySelector("#textareaLength").value;
				var passwordObject = JSON.stringify({"length":lenght,"type":type});
				
				fetch("http://localhost:3333/api/V0.1/NonDefault",	{
			method: "POST",
			body: passwordObject
		})
	.then(function(res){return res.json();})
	.then(function(data){ 
			document.getElementById("textareaPassw").innerHTML = data;
		})
			}
		</script>
	</head>
	
	<body>
		<div id="title">Passwordgenerator</div>
		<div id="caption">Let's create your password!</div>
		<form id="radioBu">
			<input type="radio" name="choice" value="random" id= "NoType" checked="checked"> Random password<br>
			<input type="radio" name="choice" value="hexa" id="HEXDEC"> Hexadecimal<br>
			<input type="radio" name="choice" value="alphaNum" id="AlphaNum"> Alphanumeric
		</form>
		<div id="noteLength">Digits:</div>
		<textarea id="textareaLength">12</textarea>
		<div id="notePassw">Your password is:</div>
		<textarea id="textareaPassw"></textarea>
		<input type="submit" name="passwordQui" value="Quick password" id="passwordQui" onclick="passwordQuick()"
		class="tooltip" title="Random password with 12 digits. Click the other button to get an individual password."/>
		<input type="submit" name="passwordReq" value="Request password" id="passwordReq" onclick="passwordRequest()" class="tooltip" title="A password as you like."/>
		
		<div id="copyright">&copy; Esemby and lecoll, August 2019</div>
	</body>
</html>